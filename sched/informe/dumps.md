## paso 1

```
root@83c3bd5aa662:/sched# make gdb
gdb -q -s obj/kern/kernel -ex 'target remote 127.0.0.1:25000' -n -x .gdbinit
Reading symbols from obj/kern/kernel...(no debugging symbols found)...done.
Remote debugging using 127.0.0.1:25000
0x0000fff0 in ?? ()
(gdb) b context_switch
Breakpoint 1 at 0xf0104197
(gdb) c
Continuing.
The target architecture is assumed to be i386
=> 0xf0104197 <context_switch>:	add    $0x4,%esp

Breakpoint 1, 0xf0104197 in context_switch ()
(gdb) x/20x $esp
0xf010ff9c:	0xf01034a6	0xf020d000	0x00009500	0xf010ffb8
0xf010ffac:	0xf0103464	0x00000000	0xf020d000	0xf010ffd8
0xf010ffbc:	0xf010431a	0xf020d000	0xf0105824	0xf010ffd8
0xf010ffcc:	0xf01042b8	0x00009500	0x00000000	0xf010fff8
0xf010ffdc:	0xf010026e	0xf01848dc	0x00000000	0x00000005

```

## paso 2

```
(gdb) si
=> 0xf010419a <context_switch+3>:	mov    (%esp),%esp
0xf010419a in context_switch ()
(gdb) x/20x $esp
0xf010ffa0:	0xf020d000	0x00009500	0xf010ffb8	0xf0103464
0xf010ffb0:	0x00000000	0xf020d000	0xf010ffd8	0xf010431a
0xf010ffc0:	0xf020d000	0xf0105824	0xf010ffd8	0xf01042b8
0xf010ffd0:	0x00009500	0x00000000	0xf010fff8	0xf010026e
0xf010ffe0:	0xf01848dc	0x00000000	0x00000005	0x00000000


```

## paso 3

```
(gdb) si
=> 0xf010419d <context_switch+6>:	popa   
0xf010419d in context_switch ()
(gdb) x/20x $esp
0xf020d000:	0x00000000	0x00000000	0x00000000	0x00000000
0xf020d010:	0x00000000	0x00000000	0x00000000	0x00000000
0xf020d020:	0x00000023	0x00000023	0x00000000	0x00000000
0xf020d030:	0x00800020	0x0000001b	0x00000200	0xeebfe000
0xf020d040:	0x00000023	0xf020d080	0x00001000	0x00000000
(gdb) info registers
eax            0x0	0
ecx            0xf01113c0	-267316288
edx            0x0	0
ebx            0xf020d000	-266285056
esp            0xf020d000	0xf020d000
ebp            0xf010ffb8	0xf010ffb8
esi            0x400	1024
edi            0x1cd000	1888256
eip            0xf010419d	0xf010419d <context_switch+6>
eflags         0x96	[ PF AF SF ]
cs             0x8	8
ss             0x10	16
ds             0x10	16
es             0x10	16
fs             0x23	35
gs             0x23	35


```

## paso 4

```
gdb) si
=> 0xf010419e <context_switch+7>:	pop    %es
0xf010419e in context_switch ()
(gdb) x/20x $esp
0xf020d020:	0x00000023	0x00000023	0x00000000	0x00000000
0xf020d030:	0x00800020	0x0000001b	0x00000200	0xeebfe000
0xf020d040:	0x00000023	0xf020d080	0x00001000	0x00000000
0xf020d050:	0x00000000	0x00000003	0x00000001	0x00000000
0xf020d060:	0x00000005	0xf03bb000	0x00000000	0x00000000
(gdb) info registers
eax            0x0	0
ecx            0x0	0
edx            0x0	0
ebx            0x0	0
esp            0xf020d020	0xf020d020
ebp            0x0	0x0
esi            0x0	0
edi            0x0	0
eip            0xf010419e	0xf010419e <context_switch+7>
eflags         0x96	[ PF AF SF ]
cs             0x8	8
ss             0x10	16
ds             0x10	16
es             0x10	16
fs             0x23	35
gs             0x23	35

```

## paso 5

```
(gdb) si
=> 0xf010419f <context_switch+8>:	pop    %ds
0xf010419f in context_switch ()
(gdb) x/20x $esp
0xf020d024:	0x00000023	0x00000000	0x00000000	0x00800020
0xf020d034:	0x0000001b	0x00000200	0xeebfe000	0x00000023
0xf020d044:	0xf020d080	0x00001000	0x00000000	0x00000000
0xf020d054:	0x00000003	0x00000001	0x00000000	0x00000005
0xf020d064:	0xf03bb000	0x00000000	0x00000000	0x00000000
(gdb) info registers
eax            0x0	0
ecx            0x0	0
edx            0x0	0
ebx            0x0	0
esp            0xf020d024	0xf020d024
ebp            0x0	0x0
esi            0x0	0
edi            0x0	0
eip            0xf010419f	0xf010419f <context_switch+8>
eflags         0x96	[ PF AF SF ]
cs             0x8	8
ss             0x10	16
ds             0x10	16
es             0x23	35
fs             0x23	35
gs             0x23	35


```

## paso 6

```
(gdb) si
=> 0xf01041a0 <context_switch+9>:	add    $0x8,%esp
0xf01041a0 in context_switch ()
(gdb) x/20x $esp
0xf020d028:	0x00000000	0x00000000	0x00800020	0x0000001b
0xf020d038:	0x00000200	0xeebfe000	0x00000023	0xf020d080
0xf020d048:	0x00001000	0x00000000	0x00000000	0x00000003
0xf020d058:	0x00000001	0x00000000	0x00000005	0xf03bb000
0xf020d068:	0x00000000	0x00000000	0x00000000	0x00000000
(gdb) info registers
eax            0x0	0
ecx            0x0	0
edx            0x0	0
ebx            0x0	0
esp            0xf020d028	0xf020d028
ebp            0x0	0x0
esi            0x0	0
edi            0x0	0
eip            0xf01041a0	0xf01041a0 <context_switch+9>
eflags         0x96	[ PF AF SF ]
cs             0x8	8
ss             0x10	16
ds             0x23	35
es             0x23	35
fs             0x23	35
gs             0x23	35


```

## paso 7

```
(gdb) si
=> 0xf01041a3 <context_switch+12>:	iret   
0xf01041a3 in context_switch ()
(gdb) x/20x $esp
0xf020d030:	0x00800020	0x0000001b	0x00000200	0xeebfe000
0xf020d040:	0x00000023	0xf020d080	0x00001000	0x00000000
0xf020d050:	0x00000000	0x00000003	0x00000001	0x00000000
0xf020d060:	0x00000005	0xf03bb000	0x00000000	0x00000000
0xf020d070:	0x00000000	0x00000000	0x00000000	0x00000000
(gdb) info registers
eax            0x0	0
ecx            0x0	0
edx            0x0	0
ebx            0x0	0
esp            0xf020d030	0xf020d030
ebp            0x0	0x0
esi            0x0	0
edi            0x0	0
eip            0xf01041a3	0xf01041a3 <context_switch+12>
eflags         0x96	[ PF AF SF ]
cs             0x8	8
ss             0x10	16
ds             0x23	35
es             0x23	35
fs             0x23	35
gs             0x23	35

```

## paso 8

```
(gdb) si
=> 0x800020:	cmp    $0xeebfe000,%esp
0x00800020 in ?? ()
(gdb) x/20x $esp
0xeebfe000:	Cannot access memory at address 0xeebfe000
(gdb) info registers
eax            0x0	0
ecx            0x0	0
edx            0x0	0
ebx            0x0	0
esp            0xeebfe000	0xeebfe000
ebp            0x0	0x0
esi            0x0	0
edi            0x0	0
eip            0x800020	0x800020
eflags         0x202	[ IF ]
cs             0x1b	27
ss             0x23	35
ds             0x23	35
es             0x23	35
fs             0x23	35
gs             0x23	35

```